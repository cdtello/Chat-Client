import{R as e,C as t,a as n,S as s,L as a,b as l,c as r,P as o,B as c,d as i,e as m}from"./vendor.d3fcd0e5.js";const u=i=>e.createElement("div",{style:{position:"absolute",width:"100%",height:"100%",backgroundColor:"#f4ede3",display:"flex",alignItems:"center"}},e.createElement(t,null),e.createElement(n,{maxWidth:"lg",style:{height:"90%"}},e.createElement(s,{container:!0,style:{height:"100%"}},e.createElement(s,{item:!0,xs:2,style:{backgroundColor:"#3e103f",color:"white"}},e.createElement(a,{component:"nav"},i.members.map((t=>e.createElement(l,{key:t,onClick:()=>{i.onPrivateMessage(t)},button:!0},e.createElement(r,{style:{fontWeight:800},primary:t})))))),e.createElement(s,{style:{position:"relative"},item:!0,container:!0,direction:"column",xs:10},e.createElement(o,{style:{flex:1}},e.createElement(s,{item:!0,container:!0,style:{height:"100%"},direction:"column"},e.createElement(s,{item:!0,container:!0,style:{flex:1}},e.createElement("ul",{style:{paddingTop:20,paddingLeft:44,listStyleType:"none"}},i.chatRows.map(((t,n)=>e.createElement("li",{key:n,style:{paddingBottom:9}},t))))),e.createElement(s,{item:!0,style:{margin:10}},i.isConnected&&e.createElement(c,{style:{marginRight:7},variant:"outlined",size:"small",disableElevation:!0,onClick:i.onPublicMessage},"Send Public Message"),i.isConnected&&e.createElement(c,{variant:"outlined",size:"small",disableElevation:!0,onClick:i.onDisconnect},"Disconnect"),!i.isConnected&&e.createElement(c,{variant:"outlined",size:"small",disableElevation:!0,onClick:i.onConnect},"Connect"))),e.createElement("div",{style:{position:"absolute",right:9,top:8,width:12,height:12,backgroundColor:i.isConnected?"#00da00":"#e2e2e2",borderRadius:50}})))))),d=()=>{const t=i.exports.useRef(null),[n,s]=i.exports.useState(!1),[a,l]=i.exports.useState([]),[r,o]=i.exports.useState([]),c=i.exports.useCallback((()=>{var e;s(!0);const n=prompt("Enter your name");null==(e=t.current)||e.send(JSON.stringify({action:"setName",name:n}))}),[]),m=i.exports.useCallback((()=>{l([]),s(!1),o([])}),[]),d=i.exports.useCallback((t=>{const n=JSON.parse(t);n.members?l(n.members):n.publicMessage?o((t=>[...t,e.createElement("span",null,e.createElement("b",null,n.publicMessage))])):n.privateMessage?alert(n.privateMessage):n.systemMessage&&o((t=>[...t,e.createElement("span",null,e.createElement("i",null,n.systemMessage))]))}),[]),p=i.exports.useCallback((()=>{var e;(null==(e=t.current)?void 0:e.readyState)!==WebSocket.OPEN&&(t.current=new WebSocket("wss://8dkwo40oa7.execute-api.us-east-1.amazonaws.com/production"),t.current.addEventListener("open",c),t.current.addEventListener("close",m),t.current.addEventListener("message",(e=>{d(e.data)})))}),[]);i.exports.useEffect((()=>()=>{var e;null==(e=t.current)||e.close()}),[]);const g=i.exports.useCallback((e=>{var n;const s=prompt("Enter private message for "+e);null==(n=t.current)||n.send(JSON.stringify({action:"sendPrivate",message:s,to:e}))}),[]),E=i.exports.useCallback((()=>{var e;const n=prompt("Enter public message");null==(e=t.current)||e.send(JSON.stringify({action:"sendPublic",message:n}))}),[]),b=i.exports.useCallback((()=>{var e;n&&(null==(e=t.current)||e.close())}),[n]);return e.createElement(u,{isConnected:n,members:a,chatRows:r,onPublicMessage:E,onPrivateMessage:g,onConnect:p,onDisconnect:b})};m.render(e.createElement(e.StrictMode,null,e.createElement(d,null)),document.getElementById("root"));
